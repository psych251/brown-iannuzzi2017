?read.csv
?manova
?cbind
knitr::opts_chunk$set(echo = TRUE, cache=TRUE)
install.packages(pwr)
install.packages("pwr")
install.packages(pwr)
library(pwr)
library(tidyverse)
library(knitr)
library(qualtRics)
setwd("~/Documents/PSYCH251/brown-iannuzzi2017")
####Import data
padata <- readSurvey("PilotBData.csv")
setwd("~/Documents/PSYCH251/brown-iannuzzi2017/data")
####Import data
padata <- readSurvey("PilotBData.csv")
headers = read_csv(padata, col_names = FALSE, n_max = 1)
View(padata)
install.packages(c("feather", "ggthemes", "wordbankr"))
####Import data
padata <- readSurvey("PilotBData.csv")
####Load Relevant Libraries and Functions
library(tidyverse)
library(knitr)
####Import data
padata <- readSurvey("PilotBData.csv")
data <- read.csv("PilotBData.csv")
View(data)
library(qualtRics)
####Import data
padata <- readSurvey("PilotBData.csv")
View(padata)
padata <- padata %>%
select(starts_with("W"),
starts_with("NW"))
padata <- padata %>%
select(-White_F1, -White_F2, -White_F3, -White_F4)
#### Data exclusion / filtering
padata <- padata %>%
filter(is.na=FALSE)
#### Data exclusion / filtering
padata <- padata %>%
filter(!is.na)
####Import data
padata <- readSurvey("PilotBData.csv")
View(padata)
#### Data exclusion / filtering
padata <- padata %>%
filter(att_check == 1)
#### Data exclusion / filtering
padata <- padata %>%
filter(att_check == 2)
####Import data
padata <- readSurvey("PilotBData.csv")
#### Data exclusion / filtering
padata <- padata %>%
filter(att_check == 1)
#### Data exclusion / filtering
padata <- padata %>%
filter(Finished == 1)
#### Data exclusion / filtering
padata <- padata %>%
filter(Finished == 1) %>%
filter(att_check == 1)
padata <- padata %>%
select(starts_with("W"),
starts_with("NW"))
padata <- padata %>%
select(-White_F1, -White_F2, -White_F3, -White_F4)
#### Prepare data for analysis - create columns etc.
padata_long <- padata %>%
gather(measure, rating, W_White:NW_CashS)
padata_long
View(padata_long)
padata_long$rating <- as.numeric(padata_long$rating)
padata_long <- padata_long %>%
separate(measure,
c("image", "measure"))
padata_long <- padata_long %>%
mutate(i = row_number())
padata_spread <- padata_long %>%
spread(measure, rating)
padata_spread <- padata_spread %>%
select(-i)
View(padata_spread)
measures_combined <- cbind(padata_spread$response, padata_spread$cashR, padata_spread$foodR, padata_spread$cashS, padata_spread$foodS) #combining DVs into single column
measures_combined <- cbind(padata_spread$Response, padata_spread$CashR, padata_spread$FoodR, padata_spread$CashS, padata_spread$FoodS) #combining DVs into single column
measures_combined
pamodel <- manova(measures_combined ~ image, data = padata_spread) #run MANOVA
View(measures_combined)
padata_spread$measures_combined <- cbind(padata_spread$Response, padata_spread$CashR, padata_spread$FoodR, padata_spread$CashS, padata_spread$FoodS) #combining DVs into single column
measures_combined <- cbind(padata_spread$Response, padata_spread$CashR, padata_spread$FoodR, padata_spread$CashS, padata_spread$FoodS) #combining DVs into single column
measures_combined
measures_combined <- cbind(padata_spread$Response, padata_spread$CashR, padata_spread$FoodR, padata_spread$CashS, padata_spread$FoodS) #combining DVs into single column
pamodel <- manova(measures_combined ~ image, data = padata_spread) #run MANOVA
measures_combined <- cbind(padata_spread$Response, padata_spread$CashR, padata_spread$FoodR, padata_spread$CashS, padata_spread$FoodS) #combining DVs into single column
pamodel <- manova(cbind(padata_spread$Response, padata_spread$CashR, padata_spread$FoodR, padata_spread$CashS, padata_spread$FoodS) ~ image, data = padata_spread) #run MANOVA
fvs <- read_csv("data/FVS2011-hands.csv")
fvs_age <- fvs %>%
group_by(subid) %>%
summarise(age = mean(age))
hist_age <- ggplot(fvs_age, aes(x = age)) +
geom_histogram(color="darkblue", fill="lightblue", binwidth = 1) +
labs(x="Age (months)")
sp <- ggplot(fvs, aes(x=age, y=hand.look)) +
geom_point(aes(colour = condition)) +
geom_smooth(aes(colour = condition)) +
labs(x="Age (Months)", y="Looking Time (Seconds)")
sp_lm <- ggplot(fvs, aes(x=age, y=hand.look)) +
geom_point(aes(colour = condition)) +
geom_smooth(aes(colour = condition), method = "lm") +
labs(x="Age (Months)", y="Looking Time (Seconds)")
library(tidyverse)
N.Sim <- 10000
p.values <- rep(NA, N.Sim)
for(i in 1:N.Sim) {
d <- rnorm(30, mean = 0, sd = 1)
Test <- t.test(d)
Current.p.value <- Test$p.value
p.values[i] <- Current.p.value}
p.values.sig <- p.values <= .05 | p.values >=.975
R.simulations <- replicate(10000, t.test(rnorm(30, mean=0, sd=1), mu=0),
simplify=FALSE)
T.table <- table(sapply(R.simulations, "[[", "p.value") < .05)
T.table
#TRUE: 499
#FALSE: 9501
499/10000
# False positive rate = .0502
471/10000
R.simulations <- replicate(10000, t.test(rnorm(30, mean=0, sd=1), mu=0),
simplify=FALSE)
T.table <- table(sapply(R.simulations, "[[", "p.value") < .05)
T.table
#TRUE: 471
#FALSE: 9529
471/10000
# False positive rate = .0502
R.simulations <- replicate(10000, t.test(rnorm(30, mean=0, sd=1), mu=0),
simplify=FALSE)
T.table <- table(sapply(R.simulations, "[[", "p.value") < .05)
T.table
#TRUE: 471
#FALSE: 9529
471/10000
# False positive rate = .0502
493/10000
double.sample <- function(){
dnew <- rnorm(30, mean = 0, sd = 1)
Test <- t.test(dnew)
pvalue <- Test$p.value
while(pvalue <= .25 && pvalue >= .05){
dnew <- c(dnew, rnorm(30))
pvalue <- t.test(dnew)$p.value
}
return(pvalue)
}
ds.simulations <- replicate(10000, double.sample(),
simplify=FALSE)
ds.table <- table(sapply(ds.simulations, "[[", "p.value") < .05)
T.table <- table(sapply(ds.simulations, "[[", "p.value") < .05)
